<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Bread: BreadDeclaration.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.1 -->
<h1>BreadDeclaration.h</h1><div class="fragment"><pre>00001 
00002 <span class="preprocessor">#ifndef _BreadDeclaration_h_</span>
00003 <span class="preprocessor"></span><span class="preprocessor">#define _BreadDeclaration_h_</span>
00004 <span class="preprocessor"></span>
00005 
00006 <span class="preprocessor">#include "BreadStdHeaders.h"</span>
00007 
00008 
00009 
00010 <span class="keyword">namespace </span>Bread
00011 {
00012     <span class="keyword">typedef</span> std::string String;
00013 
00014 <span class="preprocessor">    #define safeDelete(p)           if (p)  {   delete p; p = NULL;     }</span>
00015 <span class="preprocessor"></span><span class="preprocessor">    #define safeDeleteArray(p)      if (p)  {   delete[] p; p = NULL;   }</span>
00016 <span class="preprocessor"></span><span class="preprocessor">    #define safeRelease(p)          if (p)  {   p-&gt;Release(); p = NULL; }</span>
00017 <span class="preprocessor"></span>
00018 
00019     <span class="comment">/*</span>
00020 <span class="comment">     *  </span>
00021 <span class="comment">     */</span>
00022     <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> Iter&gt;
00023     <span class="keyword">inline</span> <span class="keywordtype">void</span> safeMapPtrClear(T&amp; _t, Iter&amp; _iter)
00024     {
00025         <span class="keywordflow">if</span> (_t)
00026         {
00027             Iter _i = _t-&gt;begin();
00028             <span class="keywordflow">for</span> (; _i != _t-&gt;end(); ++_i)
00029             {
00030                 <span class="keywordflow">if</span> (_i-&gt;second)
00031                     <span class="keyword">delete</span> _i-&gt;second;
00032             }
00033             _t-&gt;clear();
00034         }
00035     }
00036     <span class="comment">/*</span>
00037 <span class="comment">     *  </span>
00038 <span class="comment">     */</span>
00039     <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> Iter&gt;
00040     <span class="keyword">inline</span> <span class="keywordtype">void</span> safeMapPtrDelete(T&amp; _t, Iter&amp; _iter)
00041     {
00042         <span class="keywordflow">if</span> (_t)
00043         {
00044             safeMapPtrClear(_t, _iter);
00045             <span class="keyword">delete</span> _t;
00046             _t = NULL;
00047         }
00048     }
00049     <span class="comment">/*</span>
00050 <span class="comment">     *  </span>
00051 <span class="comment">     */</span>
00052     <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> Iter&gt;
00053     <span class="keyword">inline</span> <span class="keywordtype">void</span> safeVectorPtrClear(T&amp; _t, Iter&amp; _iter)
00054     {
00055         <span class="keywordflow">if</span> (_t)
00056         {
00057             Iter _i = _t-&gt;begin();
00058             <span class="keywordflow">for</span> (; _i &lt; _t-&gt;end(); ++_i)
00059             {
00060                 <span class="keyword">delete</span> (*_i);
00061             }
00062             _t-&gt;clear();
00063         }
00064     }
00065     <span class="comment">/*</span>
00066 <span class="comment">     *  </span>
00067 <span class="comment">     */</span>
00068     <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> Iter&gt;
00069     <span class="keyword">inline</span> <span class="keywordtype">void</span> safeVectorPtrDelete(T&amp; _t, Iter&amp; _iter)
00070     {
00071         <span class="keywordflow">if</span> (_t)
00072         {
00073             safeVectorPtrClear(_t, _iter);
00074             <span class="keyword">delete</span> _t;
00075             _t = NULL;
00076         }
00077     }
00078     <span class="comment">/*</span>
00079 <span class="comment">     *  </span>
00080 <span class="comment">     */</span>
00081     <span class="keyword">template</span>&lt; <span class="keyword">class</span> T &gt;
00082     <span class="keyword">inline</span> <span class="keywordtype">bool</span> checkPtr( T&amp; _t , <span class="keyword">const</span> <span class="keywordtype">char</span>* mes )
00083     {
00084         <span class="keywordflow">if</span>( _t == NULL )
00085         {
00086             assert( 0 &amp;&amp; mes );
00087             <span class="keywordflow">return</span> <span class="keyword">false</span>;
00088         }
00089         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00090     }
00091 }
00092 
00093 
00094 
00095 
00096 
00097 
00098 
00099 
00100 
00101 
00102 
00103 <span class="preprocessor">#endif</span>
00104 <span class="preprocessor"></span>
00105 
00106 
00107 
00108 
00109 
</pre></div><hr><address style="align: right;"><small>
Generated on Sat Jul 25 12:39:42 2009 for Bread by <a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 width=110 height=53>
</a> 1.3.1 using KingsTools</small></address>
</body>
</html>
